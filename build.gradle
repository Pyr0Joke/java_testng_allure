buildscript {
    repositories {
        jcenter()
    }
    dependencies {
        classpath "io.qameta.allure:allure-gradle:2.3"
    }
}


plugins {
    id 'java'
}
apply plugin: 'io.qameta.allure'
group 'test_allure_two_million_again'
version '1.0-SNAPSHOT'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

dependencies {
    testCompile 'org.testng:testng:6.9.10'
    compile 'io.qameta.allure:allure-testng:2.7.0'
    compile 'ru.yandex.qatools.allure:allure-testng-adaptor:1.5.4'
}

allure {
    version = '2.7.0'
    autoconfigure = true
    aspectjweaver = true
    allureJavaVersion = '2.0-BETA10'
}
test {
    useTestNG()
    //Show full exception on failure
//    testLogging {
//        exceptionFormat = 'full'
//    }
//
//    //Convenience .. pipe all test results to SDOUT
//    afterTest { desc, result ->
//        println "${desc.className} ${desc.name} ${result.resultType}"
//    }
//
//    //Force tests to always run, even if they haven't been updated
//    outputs.upToDateWhen { false }
}
//task wrapper(type: Wrapper) {
//    gradleVersion = "1.12"
//}
